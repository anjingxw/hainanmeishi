<!DOCTYPE html>
<html >
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
        body, html,#allmap {width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}
        .text0 {font-family:PingFangSC-Medium;  font-size: 100%;  color: #FFFFFF; letter-spacing: -0.78px;}
        .text1 {font-family: STHeitiSC-Light;  font-size: 75%;  color: #FFFFFF;  letter-spacing: -0.58px;}
        .text2 {font-family: HelveticaNeue;  font-size: 90%;  color: #9C9C9C;  letter-spacing: -0.84px;  line-height: 36px;}
        .select {width: 100%;height: 1.6rem;line-height:  1.6rem;font-size: 1.2rem;text-align: center}
    </style>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=qya10EHZGs7X3kQ3mXTAAr6GKB6YX5hF"></script>
    <script type="text/javascript">
        function showActionSheet() {
            document.getElementById("1").style.display="none";
            document.getElementById("2").style.display="";
        }

        var type =0;
        function  navToGaoDe() {
            type = 1;
            getLocation();
        }
        function  navToBaidu() {
            type = 0;
            getLocation();
        }

        function getLocation()
        {
            if (navigator.geolocation)
            {
                navigator.geolocation.getCurrentPosition(showPosition,showError);
            }
            else{
                alert("浏览器不支持定位服务！")
            }
        }

        function showPosition() {
            var latlon=position.coords.latitude+","+position.coords.longitude;
            //alert(latlon)
            var url;
            if(type == 0){
                url = "http://api.map.baidu.com/direction?origin=latlng"+latlon+"|name:您的位置&destination=大雁塔&mode=driving&region=西安&output=html&src=yourCompanyName|yourAppName";
                window.location.href = url;
                //"http://uri.amap.com/navigation?from=116.478346,39.997361,你好&to=116.3246,39.966577,到达&mode=car&policy=1&coordinate=gaode&src=mypage&callnative=1";
                //window.location.href ="http://api.map.baidu.com/direction?origin=latlng:34.264642646862,108.95108518068|name:我家&destination=大雁塔&mode=driving&region=西安&output=html&src=yourCompanyName|yourAppName";
            }
            else if (type ==1){
                url ="http://uri.amap.com/navigation?from="+latlon+",您的位置&to=116.3246,39.966577,到达&mode=car&policy=1&coordinate=gaode&src=mypage&callnative=1";
                window.location.href = url;
            }
            //alert(type)
        }


        function showError(error)
        {
            switch(error.code)
            {
                case error.PERMISSION_DENIED:
                        alert("User denied the request for Geolocation.");
                    break;
                case error.POSITION_UNAVAILABLE:
                    alert("Location information is unavailable.");
                    break;
                case error.TIMEOUT:
                    alert("The request to get user location timed out.");
                    break;
                case error.UNKNOWN_ERROR:
                    alert("An unknown error occurred.");
                    break;
            }
        }
    </script>
    <title>美食地图</title>
</head>
<body>
    <div  id="allmap"></div>
    <div id="test" style="width: 100%;height:10%;background-color:#F4513B;position:absolute;top:0px;">
        <p style="width:200px;height:50px;line-height:50px;font-size:36px;text-align:center;color:white;position:absolute;
     left: 50%;
     top: 50%;
    margin-left:-100px;
    margin-top:-25px;">美食地图</p>
    </div>
    <div id="1" style="width: 96%;height:auto;background-color:#F4513B;position:absolute;bottom:0px;margin: 0 2% 30px 2%">
        <div style="width: auto;height:auto; margin: 10px 20px 5px 20px"><span class="text0">九爹斋菜煲</span><span> </span><span class="text1">海南菜</span> </div>
        <div style="width: auto;height:auto; margin: 0 20px 5px 20px;background-color: #FFFFFF"><span class="text1">a</span><span class="text2">人均150元 | 珍珑坊1号 | 200M</span></div>
        <div style="width: auto;height:auto; margin: 0 20px 10px 20px;"><span class="text1">营业时间： 09:00-22:00</span></div>
        <div  id="circle" onclick="showActionSheet()" style="width: 59px;  height: 59px;  background: white; position:absolute;bottom:70%;right: 10%;-moz-border-radius: 50%;  -webkit-border-radius: 50%;  border-radius: 50%;">
            <img style="width: 29px; height: 30px;margin: 15px 15px 15px 15px" src="./image/go.png">
        </div>
    </div>

    <div id="2" style="width: 100%; height: auto;background-color:white;position:absolute;bottom:0px;display: none";>
        <p class="select" onclick="navToBaidu()">百度地图</p>
        <hr style="size: 0.1rem"/>
        <p class="select" onclick="navToGaoDe()">高德地图</p>
    </div>
</body>
</html>
<script type="text/javascript">
    // 百度地图API功能
    var map = new BMap.Map("allmap");
    map.centerAndZoom(new BMap.Point(116.404, 39.915), 10);
    //创建小狐狸
    var pt = new BMap.Point(116.417, 39.909);
    var myIcon = new BMap.Icon("./image/shape.png", new BMap.Size(20,27));
    var marker2 = new BMap.Marker(pt,{icon:myIcon});
    map.addOverlay(marker2);
</script>